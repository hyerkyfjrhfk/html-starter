<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Gemini 1.5 Flash UI</title>
<style>
  body { font-family: Arial,sans-serif; background:#0f0f0f; color:#fff; display:flex; justify-content:center; align-items:center; height:100vh; margin:0; }
  .chat { width:400px; background:#1c1c1c; border-radius:10px; padding:15px; box-shadow:0 0 20px rgba(0,0,0,0.6); }
  textarea { width:100%; height:80px; resize:none; border-radius:6px; border:none; padding:10px; font-size:14px; }
  button { width:100%; margin-top:10px; padding:10px; font-size:15px; border:none; border-radius:6px; background:#4a90e2; color:white; cursor:pointer; }
  button:hover { background:#357bd8; }
  .response { margin-top:12px; background:#111; padding:10px; border-radius:6px; min-height:60px; white-space:pre-wrap; }
</style>
</head>
<body>

<div class="chat">
  <textarea id="prompt" placeholder="Type something..."></textarea>
  <button onclick="send()">Send</button>
  <div class="response" id="output">Response will appear hereâ€¦</div>
</div>

<script>
const API_KEY = "YOUR_API_KEY_HERE"; // keep local
const MODEL = "gemini-1.5-flash";

async function send() {
  const prompt = document.getElementById("prompt").value.trim();
  const output = document.getElementById("output");

  if (!prompt) return;
  output.textContent = "Thinking...";

  try {
    const res = await fetch(
      `https://generativelanguage.googleapis.com/v1/models/${MODEL}:generateContent?key=${API_KEY}`,
      {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          contents: [{ role: "user", parts: [{ text: prompt }] }]
        })
      }
    );

    const data = await res.json();

    // SAFELY access the text
    const reply = data?.candidates?.[0]?.content?.parts?.[0]?.text;

    if (reply) {
      output.textContent = reply;
    } else if (data?.error?.message) {
      output.textContent = "Error: " + data.error.message;
    } else {
      output.textContent = "No response returned. Check your API key and model.";
    }

  } catch (err) {
    output.textContent = "Request failed: " + err.message;
  }
}
</script>

</body>
</html>
